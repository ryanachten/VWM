<!DOCTYPE html>
<html>
<head>
	<title>Visual Working Memory</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="https://www.gstatic.com/firebasejs/4.1.3/firebase.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.10.0/d3.min.js"></script>

	<link rel="stylesheet" type="text/css" href="css/global.css">
	<link rel="stylesheet" type="text/css" href="css/results.css">
	<link rel="stylesheet" type="text/css" href="css/results_mobile.css">
	<link href="https://fonts.googleapis.com/css?family=Open+Sans|Roboto+Mono" rel="stylesheet">
</head>
<body>
	<nav id="top-nav">
		<a id="vwm-logo" href="index.html">
			<img id="vwm-logoimg" src="img/vwm_mainlogo_white.svg" alt="vwm logo">
		</a>
		<div id="top-nav-links">
			<a class="top-nav-link" href="about.html">About</a>
			<a class="top-nav-link" href="research.html">Research</a>
			<a class="top-nav-link" href="contact.html">Contact</a>
		</div>
	</nav>

	<div id="login-panel">
		<h2>Admin Login:</h2>
		<p>This results page is restricted to test administrators only:</p>
		<form id="email-inputform" class="auth-inputform">
			<input type="text" id="email-inputfield" class="auth-inputfield" type="email" placeholder="your@email.com*" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$">
		</form>
		<form id="password-inputform" class="auth-inputform">
			<input type="password" id="pass-inputfield" class="auth-inputfield" placeholder="Enter your password*">
		</form>
	</div>

	<div id="admin-container">
		<header>
			<h1 id="vwm-title">VWM</h1>
			<h2 id="test-subtitle">Test Result Summary</h2>
			<div id="header-content">
				<p><strong>Sample Count: </strong><span id="test-sampleCount">20</span></p>
				<button id="download-button" onClick="download()">
					<img src="img/vwm_download_icon.svg">
				</button>
			</div>
		</header>

		<div id="container">
			<div id="nbackPassContainer" class="graphContainer">
				<h2>Test Accuracy</h2>
				<div id="nbackPassGraphs">
					<div id="back0PassGraph" class="nbackPassGraph">
						<h3>0-Back</h3>
					</div>
					<div id="back1PassGraph" class="nbackPassGraph">
						<h3>1-Back</h3>
					</div>
					<div id="back2PassGraph" class="nbackPassGraph">
						<h3>2-Back</h3>
					</div>
					<div id="back3PassGraph" class="nbackPassGraph">
						<h3>3-Back</h3>
					</div>
				</div>
			</div>
			<hr>
			<div id="lissajPassContainer" class="graphContainer">
				<h2>Lissajous Figure Pass Rate</h2>
				<div id="lissajPassGraph">
					<svg id="lissajPassGraphSvg"</svg>
				</div>
			</div>
			<hr>
			<div id="testTimeAveContainer" class="graphContainer">
				<h2>Average Response Times</h2>
				<div id="testTimeAveGraph"></div>
			</div>
			<hr>
			<div id="timeAccuracyContainer" class="graphContainer">
				<h2>Average Accuracy vs. Time of Day</h2>
				<div id="timeAccuracyGraph">
					<svg id="timeAccuracyGraphSvg"></svg>
				</div>
			</div>
		</div>
	</div>

	<script type="text/javascript" src="js/data.js"></script>
	<script type="text/javascript" src="js/jsoncsv.js"></script>
	<script type="text/javascript" src="js/graph.js"></script>
	<script>
		$('#password-inputform').submit(function(e) {
			e.preventDefault();
			getAdminData();
		});
	</script>
</body>
</html>
